# Section 2B Smart Islamic Banking on HLC public chain

Smart contracts on the blockchain could and will create efficiencies and therefore savings for every category of monetary markets, investments, Banking and other financial services like insurance/takaful but more important, they will reorganize how certain services are run within the economy. To illustrate this, the paper focuses on some financial service areas like banking, which could benefit from immediate sizeable savings:

Islamic Banks need to adopt Blockchain technology to transform sizable chunks of their business. This technology’s aim is to change the normal conventional banking by making it easier and simpler for everyone to perform banking activities from anywhere regardless of their social status. Blockchain is a disruptive technology that will fundamentally change banking as well as many other industries. Blockchain presents a two-fold solution for Islamic banks. One, it could potentially save banks billions in cash by dramatically reducing processing and transaction costs; and two, the reduction in the amount of time and the amount of paper that they process. Implementing Blockchain would make banks increasingly profitable and valuable.  The Islamic financial sector has experienced substantial developments in the new century and has grown very rapidly both in size and number of institution. With this requirement, Islamic banking has been continuously developing new Shariah compliant products that both alter their ability to compete with conventional banks and alter their risk taking and risk mitigation profile. 


### What is Smart Islamic banking 

What is Smart Islamic banking refers to a system of banking or banking activity that includes financing and investment without interest that is consistent with the principles of the Shari’ah. An Islamic economic principle offers a balance between extreme capitalism and communism. It has the same purpose as conventional banking except that it operates in accordance with Shari’ah rules and principles. The Islamic banking is design on two main basic principles; one is collection and payment of Interest (Riba) is not allowed, which means their model is based on sharing of profit and loss concept; and the second, the bank cannot create any debt without goods and services to back it. Hence savings, deposits and investments mostly with the Islamic Bank will be backed by physical assets.
The smart Islamic banking will facilitates automatic payment processing, only if certain parameters within the agreed upon contract are satisfied. Because of smart contracts, costly errors from the manual processing of contractual terms, including settlement instructions, can be reduced considerably. If an American bank has transacted a trade or swap contract with a GCC bank, the settlement details would only be provided if the financial details of the trade match between the two banks. 
–	Trade finance like supply-chain documentation, invoicing, and payments in letters of credit, trust receipts, etc. 
–	Mortgages for housing. The mortgage loan process relies on a complex ecosystem for the origination, funding, and servicing of mortgages, with considerable costs and delays. 
–	Loans without interest of any kind, including crowdfunding for start-ups and small and medium-sized enterprises (SME). Distribution of equity of micro, small, and medium-sized enterprises (MSMEs) to investors.
The global financial crisis has failed to have more impact on Islamic banking as compare to conventional banking system, and they remain stable at the early phases of the global financial crisis. The main reason is their banking principles, its transparency and assets back financing, which did not permit speculative economic activity.


# Smart Takaful on HLC public chain
As a niche section of the insurance sector, the takaful segment is significantly impacted by the disruptions occurring within the insurance sector. The global insurance market had a reasonable growth rate, with global real premium growth rates of 2.9% in the advanced economies and 7.4% in the emerging and developing countries in 2014, an improvement over the 2012 and 2013 rates (IFSB, 2016). Likewise, the growth rate of gross contributions in the takaful sector demonstrated a recovery in 2014 from 2013, when the growth rate of premiums was by far the lowest historically.
Takaful is a system of Islamic insurance based on the principle of mutual cooperation and donation (Tabarru), where the risk is shared collectively and voluntarily among the participants. Takaful claims, is a distributed process that involves many parties, participant, Takaful Operator and beneficiary, often with insufficient transparency to the participants. 

Smart contracts deployed through the blockchain will provide customers and takaful (insurance) Operators a system to manage claims in a transparent, quick, and indisputable manner. Takaful policies, along with its terms and conditions, and potential claims can be recorded onto the blockchain and validated by the network, ensuring valid claims are dispensed and false claims are rejected.  For example, the blockchain will reject multiple claims for one accident because the network would know that a claim has already been made. Smart contracts would also process claims efficiently by triggering payments automatically when certain conditions are met and validated. To more effectively detect identity fraud, falsified injury or damage reports, etc., blockchain can be used as a cross- Islamic Financial Institutions (Islamic Finance industry).

### What is Smart Takaful 
Takaful claims processing and settlement, are areas where participants make a contribution and the Takaful operator sets out rules under which, the participant gets a coverage. The level of expertise required for claim adjusters or the investigators, who investigate, negotiate and settle claims, varies directly with the nature of loss, under the jurisdiction whose law applies to the contract creation, interpretation and enforcement, one of principal consumer protection issues within the Takaful pricing, underwriting, and claim settlement process, the rules-based claims processing or otherwise a voting based claims processing, mostly followed by mutual agreement. 
The settlements are also subject to interpretation of the rules that apply to the product and participant situation. This leads the claim processor to apply rules and make decisions before paying out the claim. Storing and reconciling data sets of financial obligations and ownership forms are the core of Takaful claims operations. The current methods are highly complex, use fragmented IT and data architectures and suffer from a lack of common standards. This creates a continual need to reconcile data with massive systems and process duplication, leading to high costs and protracted time to execute tasks. Block-chain can be used to manage shared intelligence and could be used to drive efficiency in Takaful claims processing independent of fraud, thus bringing a structural change to the industry. 
Further, in lines of Takaful where losses require onsite examination, claims adjusters may be sent to conduct an investigation. Takaful smart claim (TSC), through the block-chain-based systems could help radically improve the Takaful company operations in term of efficient claim processing and settlements, claims adjusters’ investigation and decisions on which claim should be paid, with the means to manage claims in a transparent, responsive and irrefutable manner. These features or innovation could be built into the Takaful existing market infrastructure in making the claim, it would allow for the auto-execution of coded logic embedded into smart claims.
The block-chain lets people who have no particular confidence in each other collaborate without having to go through a neutral central authority. Simply put, it is a mechanism for creating trust. Within this open ledger system, the block-chain offers an inherent level of trust for the user, eliminating the need for the middleman and mitigating the risk of human error. Thus, it promotes justice and creditworthiness which has been emphasized in the Holy Quran in Surat al Nisa (4:135)
In this innovation, block-chain transactions can be a reversed engineered to allow a pretty good guess at the transactor. Another block-chain virtue is the decentralization of customer databases and a federated identity infrastructure that allows an individual to identify information online without having to supply personal information (for example, a driver’s license number to multiple Takaful operator). Rather than being held in any number of central databases, sensitive data is encrypted and distributed and a block-chain is used as an audit ledger to re-authenticate the user. 

                                    Insert Diagram or Table here

Alongside big data, mobile and digital technologies, Takaful smart claim is essential to establishing an efficient, transparent and customer-focused claims model based on higher degrees of trust and transparency. Within claims prevention, new data streams can enhance the risk selection process by combining location, external risk and analytics. A distributed ledger can enable the TO and various participants to easily and instantly access and update relevant information (e.g., claim forms, evidence, police reports and third-party review reports). 
The use of data from a mobile phone or sensors can streamline claims submission, reduce loss adjuster costs and increase customer satisfaction, with block-chain systems facilitating communications and coordination among all parties. Consider how sensors can trigger alerts to TO that a crash has occurred (thereby initiating a new claim), and then route secure and relevant data to preapprove and conveniently locate medical teams, towing services and/or repair garages. Here again, block-chain is the network connecting and ordering data from the multiple devices and apps involved in the multidimensional process. 
This Smart Takaful will help the Takaful operator to record transactions on a block-chain at each point in the transactional lifecycle, from seeking a quotation to binding contract, the immutable life record of that contribution of participant can be traced. This does bring a degree of simplicity to the underwriting process and has the potential to reduce fraud. The main purpose of Takaful is to provide assistance to the participants when they are in any difficulties or losses, such mutual assistance will be significantly achieved by the means of automated Takaful claim processes that are efficient, transparent, faster, cheaper and more secure by adopting block-chain technology.

Alongside big data, mobile and digital technologies, Takaful smart claim is essential to establishing an efficient, transparent and customer-focused claims model based on higher degrees of trust and transparency. Within claims prevention, new data streams can enhance the risk selection process by combining location, external risk and analytics. A distributed ledger can enable the TO and various participants to easily and instantly access and update relevant information (e.g., claim forms, evidence, police reports and third-party review reports). 
The use of data from a mobile phone or sensors can streamline claims submission, reduce loss adjuster costs and increase customer satisfaction, with block-chain systems facilitating communications and coordination among all parties. Consider how sensors can trigger alerts to TO that a crash has occurred (thereby initiating a new claim), and then route secure and relevant data to preapprove and conveniently locate medical teams, towing services and/or repair garages. Here again, block-chain is the network connecting and ordering data from the multiple devices and apps involved in the multidimensional process. 
This Smart Takaful will help the Takaful operator to record transactions on a block-chain at each point in the transactional lifecycle, from seeking a quotation to binding contract, the immutable life record of that contribution of participant can be traced. This does bring a degree of simplicity to the underwriting process and has the potential to reduce fraud. The main purpose of Takaful is to provide assistance to the participants when they are in any difficulties or losses, such mutual assistance will be significantly achieved by the means of automated Takaful claim processes that are efficient, transparent, faster, cheaper and more secure by adopting block-chain technology.

# HLC Technology Innovation
The HLC public chain is a powerful innovative technology that has the potential to transform the global Islamic financial services industry. it is a distributed database of records or public ledger of all transactions or digital events that have been executed and shared by corporate entities. HLC technology is cryptographically authentacated. it is developed to provide an alternative secure approach to exchange value without the involvement of third party. The technology enables simplification and brings in greater security, scaleability, speed, and reliability. The results is reduced costs and improved efficiency. 
However, the OP_TOKEN is based on OP_GROUP, a referenced solution of issuring assets on Bitcoin Cash, and redesigned to fit various practical scenarios with unique features like asset compliable and value relevent. There are some related concept in the details below:  

### UTXO
UTXO represents Unspent Transaction Output. One transaction has multiple sources and destinations, we call them as inputs and outpus. There are no accounts in HLC, what users have and spend are a bunch of unspent transaction ouputs and we could get  balance by summing up them. 
![Figure 1](https://lh3.googleusercontent.com/5rq02r0s4c2c5ApbAjNRcrx3vuZTj_uodHWK1kV98yNfgbfamHANjc9eIyQXuonIb2-Uah1kw40Y "UTXO")
>The first transaction tx1 has 3 outputs and the first output of them is spent, so  tx1 has 2+3=5 coins balance. 
The second transaction tx2 spends the 2 UTXOs of tx1 and pays to 3 addresses and creates 3 new UTXOs. 
Note: now the old UTXOs (of tx1) are no longer UTXO so cannot be spent later.  

### Script system
The mechanism behind how users spend their UTXOs is to execute a special script. The output stores a half of the script and we have to present the other half and combine both to verify if we could spend the money. The former half is called locking script, like a locked treasure box, and the latter is unlocking script, like the only key to the box.

Let's take a look at the typical instance of  Pay-2-Public-Key-Hash(P2PKH)

Locking Script in UTXO:
OP_DUP OP_HASH160 <PUBLIC_KEY> OP_EQUALVERIFY OP_CHECKSIG

Unlocking Script in a newly created transaction:
<Signature><PublicKey>

Combine unlocking script with locking script:
<Signature><PublicKey> OP_DUP OP_HASH160 <PUBLIC_KEY> OP_EQUALVERIFY OP_CHECKSIG
This whole script consists two steps
1. <PublicKey>  OP_HASH160 <PUBLIC_KEY> OP_EQUALVERIFY
	To very if the public key in the unlocking script matches that in the locking script.
2.  <Signature><PublicKey> OP_CHECKSIG
	To check if the signature is valid.


### Color coin
Color coin is a class of methods to represent assets on top of the blockchain, so it can leverage the temper-proof capibility of blockchain. It is like an organization issues their conference tickets with cash to make sure the tickets cannot be forged. There are a lot of ways to implement color coin and the most common way is to use a special script operation - OP_RETURN - to interupt script execution early, so we can add information of the assets after it without violating the script validation.

Locking Script:
OP_RETURN <DATA>

The most presentative color coin protocol using OP_RETURN is omni layer on which the famous stable coin Tether (USDT) based.  

Here is a typical USDT transacation and we are going to dive into its protocol
https://www.blockchain.com/btc/tx/efc50d9e1f23e687e304cfca4ef2c5412b67d5737888ff80a0cbb6853cd865c
OP_RETURN 6f6d6e69000000000000001f00000015c9054900
![USDT here](https://lh3.googleusercontent.com/2tlNJDUgh6IFXSK-Tc83TowYP2I0toT6y9_MRMVMaWS3AT2MBSKrhxgXlbNt93XwNVMuPvOrlVqk "Tether")
We may see it only takes 20 bytes to support a powerful asset issuance protocol. 

### OP_GROUP
The OP_RETURN scheme is more suitable to apply on mature blockchain since it doesn't change the underlying blockchain protocol and won't risk forking. However, the weakness  is that miners cannot verify its protocol so there would be some security risks.

OP_GROUP is a proposal of assets issuance  on Bitcoin Cash (BCH) from Bitcoin Unlimited (BU) and has been approved by BU. OP_GROUP supports token issuance, tranfer, destroy, etc. Since OP_GROUP is an extention to BCH script sytem,  it is part of BCH protocol and can be verified by miners, which is more reliable.

The basic “colored” pay 2 public key hash script would be like: [^1]

> **OP_DATA(group address)  
OP_GROUP**  
OP_DROP  
OP_DUP  
OP_HASH160  
OP_DATA(pubkeyhash)  
OP_EQUALVERIFY  
OP_CHECKSIG

The main difference is simple, just adding a group address to distiguish different groups, and the other operations ,such as create and destroy assets, are similar.

[^1]:  https://medium.com/@g.andrew.stone/bitcoin-scripting-applications-representative-tokens-ece42de81285

### OP_TOKEN
HLC extends OP_GROUP, i.e. OP_TOKEN, to support assets authentication.

## OP_TOKEN Design
There is a special token named LICENSE in OP_TOKEN. Licenses are held by renowned expects or organizations with public credibility. Any entitity planing to issue a token needs to be warranted a license. Since license is also a token, it is able to be transfered between peers. However, license transfer can be tracked through transaction history, so the originator would be very cautious in case transfering to a wrong hand.

### Issuance of License
Licenses are all generated in genesis block and distribted to 100 preserved committe members. One smallest unit of HLC (SAND) represents a license,  one block has 100 HLC,  1 HLC= 10^8   SAND , so we have 10 ^10 license in total, which is sufficient for asset issuance.
```YAML
INPUTS:
	- INPUT:
		PREVIOUS_OUTPUT: # (COINBASE of GENESIS)
			SCRIPT: “DUP HASH160 [GENESIS_HASH] EQUALVERIFY CHECKSIG"
			VALUE: 10000000000 (10 billion)
		SCRIPT: “[SIG] [GENESIS_PK]”
OUTPUTS:
	- OUTPUT:
		SCRIPT: “[LICENSE_HASH] TOKEN DROP DUP HASH160 [COMMITTEE_1_HASH] EQUALVERIFY CHECKSIG"
		VALUE: 100000000 (100 million)
	# … … (COMMITTEE 2~99)
	- OUTPUT:
		SCRIPT: “[LICENSE_HASH] TOKEN DROP DUP HASH160 [COMMITTEE_100_HASH] EQUALVERIFY CHECKSIG"
		VALUE:100000000#(100 million)
	- OUTPUT:
		SCRIPT: "RETURN [DATA]" 
		VALUE: 0
```



### warrant a license
The individul conpanies and Oraganizations must be warranted a license to issue assets. The companies can request license from any committee member. Once the license is granted and approved, it would receive a special token transfer from the commitee member and the token is the license.

```YAML
INPUTS:
	- INPUT:
		PREVIOUS_OUTPUT:
			SCRIPT: “[LICENSE_HASH] TOKEN DROP DUP HASH160 [COMMITTE_HASH] EQUALVERIFY CHECKSIG"
			VALUE: 100000000
		SCRIPT: “[SIG] [COMMITTE_PK]”
OUTPUTS:
	- OUTPUT:
		SCRIPT: “[LICENSE_HASH] TOKEN DROP DUP HASH160 [ISSUER_HASH] EQUALVERIFY CHECKSIG"
		VALUE: 1
	- OUTPUT:
		SCRIPT: “[LICENSE_HASH] TOKEN DROP DUP HASH160 [COMMITTE_HASH] EQUALVERIFY CHECKSIG"
		VALUE: 99999999
	- OUTPUT:
		SCRIPT: "RETURN [DATA]" 
		VALUE: 0
```

### Issue assets
Once warranted a license, organizations are able to issue assets. Assets cannot be built from the air, they required equal amount smallest unit (sand) of HLC to be converted. We also call the process as token mint. Just like to mint a gold coin requires the same weight of gold sands, tokens need same amount HLC sands. The advantage is not only that the token has a value support by underlying currency but also that all tokens and HLC are invovled in the same ecosytem, which would improve the liquidity and make whole network healthier.

```YAML
INPUTS:
	- INPUT:
		PREVIOUS_OUTPUT: #(1 LICENSE)
			SCRIPT: “[LICENSE_HASH] TOKEN DROP DUP HASH160 [ISSUER_HASH] EQUALVERIFY CHECKSIG"
			VALUE: 1
		SCRIPT: “[SIG] [LICENSE_PK]”
	- INPUT:
		PREVIOUS_OUTPUT: #(1 HLC)
			SCRIPT “DUP HASH160 [COIN_HASH] EQUALVERIFY CHECKSIG"
			VALUE: 100000000
		SCRIPT “[SIG] [COIN_PK]”
OUTPUTS:
	- OUTPUT:
		SCRIPT: “[LICENSE_HASH] TOKEN DROP DUP HASH160 [ISSUER_HASH] EQUALVERIFY CHECKSIG"
		VALUE: 1
	- OUTPUT:
		SCRIPT: “[TOKEN_HASH] TOKEN DROP DUP HASH160 [PK_HASH] EQUALVERIFY CHECKSIG"
		VALUE: 100000000
	- OUTPUT:
		SCRIPT: "RETURN [DATA]"
		VALUE: 0
```


### Transfer
Assets can be transfered between parties. Moreover, we could transfer mulitple assets within one transaction. The transaction needs to ensure the  input sum of each asset equals the output sum of each asset. 
```YAML
INPUTS:
	- INPUT:
		PREVIOUS_OUTPUT:
			SCRIPT: “[RMB] TOKEN DROP DUP HASH160 [ACLICE_PKHASH] EQUALVERIFY CHECKSIG"
			VALUE: 100
		SCRIPT: “[ALICE_SIG] 0X83 [ACLIE_PUBKEY]”
	- INPUT:
		PREVIOUS_OUTPUT:
			SCRIPT: “[USD] TOKEN DROP DUP HASH160 [BOB_PKHASH] EQUALVERIFY CHECKSIG"
			VALUE: 20
		SCRIPT: “[BOB_SIG] 0X83 [BOB_PUBKEY]”
OUTPUTS:
	- OUTPUT:
		SCRIPT: “[USD] TOKEN DROP DUP HASH160 [ALICE_PKHASH] CHECKSIG”
		VALUE: 20
	- OUTPUT:
		SCRIPT: “[RMB] TOKEN DROP DUP HASH160 [BOB_PKHASH] CHECKIG”
		VALUE: 100
```

### Unmint
In addition to mint token, we can unmint token. Like we cannot build token from nothing, we cannot destroy tokens into ashes, instead, we melt  tokens into HLC. Also, tokens can be melt into the same amount of HLC sands. So, tokens have minimum value sustain. 

HLC encourages token holders to increase their token values rather than unminting them. But there are some scenarios to make unminting practical, such as stable coins. So, HLC only allow the token issuer to umint tokens.

```YAML
INPUTS:
	- INPUT:
		PREVIOUS_OUTPUT:
			SCRIPT: “[TOKENHASH] TOKEN DROP DUP HASH160 [ISSUER_HASH] EQUALVERIFY CHECKSIG"
			VALUE: 100
		SCRIPT: “[SIG] [ISSUER_PUBKEY]”
OUTPUTS:
	- OUTPUT:
		SCRIPT: “DUP HASH160 [COIN_HASH] EQUALVERIFY CHECKSIG"
		VALUE: 100
	- OUTPUT:
		SCRIPT: "RETURN [DATA]”
		VALUE: 0
```